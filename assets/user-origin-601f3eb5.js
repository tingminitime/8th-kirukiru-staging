var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{_ as r}from"./DynamicTextarea-e6caae88.js";import{m as o,_ as n,ai as i,o as c,c as d,a as m,e as p,w as u,d as f,s as y,t as g,T as x,F as b,f as h,r as v,x as k,u as w,D as I}from"./vendor-385d4c3c.js";import{_ as j}from"./index-6d139253.js";import{_ as Y,a as D}from"./AddLove-5d1f14b7.js";import{t as M}from"./tippy.esm-7d0a23a6.js";const S={name:"KiryReply",components:{DynamicTextarea:r},props:{messageId:{type:Number,default:null},messageInitDate:{type:String,default:""},messageMain:{type:String,default:""},messageMember:{type:String,default:""},messageMemberPic:{type:String,default:""},reMessageData:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!0},messageUserName:{type:String,default:""},articleUsername:{type:String,default:""}},emits:["update-reply","reply-inner"],data:()=>({replyInner:null,replyInnerVm:"",inputHeight:"0"}),computed:((e,r)=>{for(var o in r||(r={}))a.call(r,o)&&s(e,o,r[o]);if(t)for(var o of t(r))l.call(r,o)&&s(e,o,r[o]);return e})({},o(["userInfo"])),methods:{toggleInnerReply(e){if(this.replyInner===e)return this.replyInner=null,void(this.replyInnerVm="");this.replyInner=e},replyInnerHandler(e){const t={messageId:e,main:this.replyInnerVm};this.$emit("reply-inner",t),this.toggleInnerReply(e)},resize:n.throttle((function(){this.inputHeight=`${this.$refs.shadow.scrollHeight}px`}),100)}},U={class:"flex before:absolute relative before:top-0 before:left-0 justify-between p-6 mb-6 before:w-2 before:h-full before:bg-myYellow/40 before:opacity-0 hover:before:opacity-100 before:transition-all"},B={class:"flex flex-col grow shrink"},_={class:"flex flex-col mb-4 md:grid md:grid-cols-4 md:gap-4"},A={class:"flex col-span-3 gap-3 items-start"},C={href:"javascript:;",class:"block overflow-hidden shrink-0 w-16 h-16 rounded-full select-none"},H={class:"object-cover w-full h-full scale-[102%] load",alt:""},$={class:"flex flex-col"},P={class:"font-medium"},T={class:"text-justify text-gray-900 whitespace-pre-wrap"},O={class:"flex gap-3 justify-end items-center md:flex-col md:gap-1 md:justify-start md:items-end"},N={class:"order-2 px-1 text-sm text-black/60 md:order-1"},V={class:"flex order-1 md:order-2"},L={key:0,type:"button",class:"group block px-1 text-sm font-medium text-black/60 hover:text-black/80"},K=[f("span",{class:"inline-block px-0.5 text-lg align-middle opacity-0 group-hover:opacity-100 transition-all material-icons"},"edit",-1),f("span",{class:"inline-block align-middle"},"編輯",-1)],R=[f("span",{class:"inline-block text-xl font-bold align-middle opacity-0 group-hover:opacity-100 transition-all material-icons"},"turn_left",-1),f("span",{class:"inline-block align-middle"},"回覆",-1)],z={key:0,class:"grid grid-cols-4 gap-4 mb-4 md:pl-16"},E={class:"relative col-span-3"},G=[f("span",{class:"material-icons"},"close",-1)],F={class:"flex justify-center items-center md:justify-start"},q=[f("span",null,"送出",-1)],J={key:0,class:"mb-4 md:pl-16"},Q={class:"flex flex-col w-full md:grid md:grow md:shrink md:grid-cols-4 md:gap-4 md:p-4 md:w-auto md:bg-myYellow/20"},W={class:"flex gap-3 items-start p-4 bg-myYellow/20 md:col-span-3 md:p-0 md:bg-myYellow/0 md:border-none"},X={class:"flex flex-col gap-1"},Z={class:""},ee=f("span",{class:"mr-1 text-sm font-bold text-black/60"},"作者 ",-1),te={class:"text-myOrange"},ae=f("span",{class:"text-sm font-bold text-black/60"}," 的回覆 :",-1),le={class:"text-justify text-gray-900 whitespace-pre-wrap"},se={class:"flex gap-1 justify-end items-center md:flex-col md:justify-start md:items-end"},re={class:"order-2 px-1 text-sm text-black/60 md:order-1"},oe={class:"flex order-1 md:order-2"},ne={key:0,type:"button",class:"group block px-1 text-sm font-medium text-black/60 hover:text-black/80"},ie=[f("span",{class:"inline-block px-0.5 text-lg align-middle opacity-0 group-hover:opacity-100 transition-all material-icons"},"edit",-1),f("span",{class:"inline-block align-middle"},"編輯",-1)];var ce=j(S,[["render",function(e,t,a,l,s,o){const n=r,v=i("src"),k=i("timeformat");return c(),d(b,null,[m(" 留言 "),p(x,{appear:"",mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0 translate-y-48","enter-to-class":"transform opacity-100 translate-y-0","leave-active-class":"transition duration-300 ease-in","leave-from-class":"transform opacity-100 translate-y-0","leave-to-class":"transform opacity-0 translate-y-48"},{default:u((()=>{var l;return[f("li",U,[m(" 留言及回覆區塊 "),f("div",B,[m(" 留言者區塊 "),f("div",_,[m(" 留言者資訊及內容 "),f("div",A,[f("a",C,[y(f("img",H,null,512),[[v,`https://kirukiru.rocket-coding.com/Pic/${a.messageMemberPic}`]])]),f("div",$,[f("p",P,g(a.messageMember)+" 的留言 : ",1),f("p",T,g(a.messageMain),1)])]),m(" 留言時間及功能 "),f("div",O,[y(f("p",N,null,512),[[k,{time:a.messageInitDate,format:"YYYY/MM/DD HH:mm"}]]),f("div",V,[a.messageUserName===e.userInfo.Username?(c(),d("button",L,K)):m("v-if",!0),a.articleUsername===e.userInfo.Username?(c(),d("button",{key:1,type:"button",class:"group flex justify-center items-center px-1 text-sm font-medium text-black/60 hover:text-black/80",onClick:t[0]||(t[0]=e=>o.toggleInnerReply(a.messageId))},R)):m("v-if",!0)])])]),m(" 回覆留言功能 "),p(x,{appear:"",mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0 translate-x-48","enter-to-class":"transform opacity-100 translate-x-0"},{default:u((()=>[s.replyInner===a.messageId?(c(),d("div",z,[f("div",E,[p(n,{modelValue:s.replyInnerVm,"onUpdate:modelValue":t[1]||(t[1]=e=>s.replyInnerVm=e),modelModifiers:{trim:!0},"set-focus":!0,class:"h-full",onEnterExact:t[2]||(t[2]=e=>o.replyInnerHandler(a.messageId))},null,8,["modelValue"]),f("button",{type:"button",class:"absolute top-0 right-0 opacity-0 hover:opacity-100 translate-x-full -translate-y-1/2",onClick:t[3]||(t[3]=e=>o.toggleInnerReply(a.messageId))},G)]),f("div",F,[f("button",{type:"button",class:"py-1 px-4 text-sm text-black/60 hover:text-black hover:bg-myYellow/20 transition-all",onClick:t[4]||(t[4]=e=>o.replyInnerHandler(a.messageId))},q)])])):m("v-if",!0)])),_:1}),m(" 回覆留言資訊 "),0!==(null==(l=a.reMessageData)?void 0:l.length)?(c(),d("ul",J,[(c(!0),d(b,null,h(a.reMessageData,(t=>(c(),d("li",{key:t.reMessageId,class:"flex mb-4"},[f("div",Q,[f("div",W,[f("div",X,[f("p",Z,[ee,f("span",te,g(t.author),1),ae]),f("p",le,g(t.reMessageMain),1)])]),f("div",se,[y(f("p",re,null,512),[[k,{time:t.reMessageInitDate,format:"YYYY/MM/DD HH:mm"}]]),f("div",oe,[a.articleUsername===e.userInfo.Username?(c(),d("button",ne,ie)):m("v-if",!0)])])])])))),128))])):m("v-if",!0)])])]})),_:1})],2112)}]]);const de={name:"SubscribeView",props:{Name:{type:String,default:""},Username:{type:String,default:""},Userpic:{type:String,default:""},Introduction:{type:String,default:""}}},me={class:"p-4 w-full text-center bg-myBrown rounded-lg shadow-md sm:p-8"},pe=f("h3",{class:"hidden mb-2 text-3xl font-bold text-white md:block"}," 以下內容僅限訂閱者閱覽 ",-1),ue=f("h3",{class:"block mb-2 text-3xl font-bold text-white md:hidden"}," 限訂閱者閱覽 ",-1),fe={class:"flex gap-3 justify-center items-start py-4 mb-4"},ye={class:"object-cover w-full h-full bg-center scale-[103%] load",alt:""},ge={class:"max-w-[80%] text-left text-white"},xe={class:"text-myYellow"},be={key:0,class:"text-sm leading-6 text-left text-white"},he={key:1,class:"text-sm leading-6 text-left text-white/60"},ve={class:"flex justify-center items-center"},ke=k(" 訂閱作者，觀看此文章 ");var we=j(de,[["render",function(e,t,a,l,s,r){const o=v("router-link"),n=i("src");return c(),d("div",me,[pe,ue,f("div",fe,[p(o,{class:"block overflow-hidden shrink-0 mt-2 w-12 h-12 rounded-full",to:{name:"AuthorDetail",params:{authorId:a.Username}}},{default:u((()=>[y(f("img",ye,null,512),[[n,`https://kirukiru.rocket-coding.com/Pic/${a.Userpic}`]])])),_:1},8,["to"]),f("div",ge,[f("p",xe,g(a.Name),1),a.Introduction?(c(),d("p",be,g(a.Introduction),1)):(c(),d("p",he," 此作者沒有自我簡介 "))])]),f("div",ve,[p(o,{class:"py-2 px-4 text-lg text-white bg-myYellow/60 hover:bg-myYellow/80 rounded-lg transition-all",to:{name:"AuthorDetail",params:{authorId:a.Username}}},{default:u((()=>[ke])),_:1},8,["to"])])])}]]);const Ie={name:"KiruInfo",props:{showCover:{type:Boolean,default:!0},title:{type:String,default:""},firstPhoto:{type:String,default:""},introduction:{type:String,default:""},articlecategoryId:{type:Number,default:null},artArtlog:{type:String,default:""},artInitDate:{type:String,default:""},showKiruCount:{type:Boolean,default:!1},kiruCount:{type:Number,default:0}},data:()=>({coverUrl:""}),watch:{firstPhoto(e){this.coverUrl=`https://kirukiru.rocket-coding.com/Pic/${e}`}}},je={class:"w-full"},Ye={key:0,class:"w-full max-h-[440px]"},De={class:"aspect-w-16 aspect-h-9"},Me={class:"object-cover object-center w-full h-full bg-center transition-opacity duration-300 cover load",alt:""},Se={class:"py-3 mb-6"},Ue={class:"flex gap-1"},Be={class:"text-myBrown"},_e=f("span",{class:"text-myBrown/60 material-icons"},"chevron_right",-1),Ae={href:"javascript:;",class:"text-myBrown hover:text-myYellow"},Ce={class:"grid grid-cols-3 mb-6"},He={class:"flex col-span-2 items-start text-3xl font-bold text-myBrown"},$e={class:"flex flex-col items-end pt-1"},Pe={class:"text-right text-black/60"},Te={key:0,class:"text-right text-black/60"},Oe=k(" 此切切共有 "),Ne={class:"text-black/80"},Ve=k(" 個步驟 "),Le={key:1,class:"mb-6"},Ke=["innerHTML"];var Re=j(Ie,[["render",function(e,t,a,l,s,r){const o=i("src"),n=i("timeformat");return c(),d(b,null,[m(" 文章頂部資訊 "),f("div",je,[m(" 文章封面圖片 "),a.showCover?(c(),d("div",Ye,[f("div",De,[y(f("img",Me,null,512),[[o,s.coverUrl]])])])):m("v-if",!0),m(" 分類 "),f("div",Se,[f("p",Ue,[f("span",Be,g("kiru"===e.$route.meta.articleType?"切切分類":"文章分類"),1),_e,f("a",Ae,g(a.artArtlog),1),m(' <router-link :to="{ name: \'\' }" class="text-myBrown hover:text-myYellow">\r\n          {{ artArtlog }}\r\n        </router-link> ')])]),m(" 標題 "),f("div",Ce,[f("h1",He,g(a.title),1),f("div",$e,[y(f("p",Pe,null,512),[[w,a.artInitDate],[n,{time:a.artInitDate,format:"YYYY/MM/DD HH:mm"}]]),a.showKiruCount?(c(),d("p",Te,[Oe,f("span",Ne,g(a.kiruCount),1),Ve])):m("v-if",!0)])]),m(" 文章簡述 "),""!==a.introduction?(c(),d("div",Le,[f("p",{class:"text-myBrown",innerHTML:a.introduction},null,8,Ke)])):m("v-if",!0)])],2112)}]]);const ze={name:"KiruAuthor",components:{AddLove:Y,AddCollection:D},props:{author:{type:String,default:""},username:{type:String,default:""},authorPic:{type:String,default:""},loveCount:{type:Number,default:0},isAddLove:{type:Boolean,default:!1},repliesCount:{type:Number,default:0},articleType:{type:String,default:""}},data:()=>({isLoading:!1}),mounted(){M(this.$refs.copylink,{content:"點我複製連結",inertia:!0,animation:"scale-subtle"}),M(this.$refs.copylink,{async onTrigger(e,t){navigator.clipboard;await navigator.clipboard.writeText(location.href),setTimeout((()=>{e.hide()}),2e3)},content:"已複製連結",inertia:!0,animation:"scale-subtle",trigger:"click"})}},Ee={class:"px-4 w-full"},Ge={class:"flex fixed bottom-0 left-0 z-20 justify-between items-center py-2 px-6 w-full bg-myGray/80 border-y border-myBrown/20 backdrop-blur md:relative md:z-0 md:bg-myYellow md:border md:border-myBrown md:backdrop-blur-none"},Fe={class:"flex gap-2 items-center md:gap-8"},qe={class:"object-cover w-full h-full bg-center scale-[103%] load",alt:""},Je={class:"font-medium line-clamp-1 md:line-clamp-2 author-name"},Qe=k(" 關注 "),We={class:"flex gap-5 justify-end items-center"},Xe=f("span",{class:"inline-block px-1 text-sm align-middle md:text-lg material-icons-outlined"},"mode_comment",-1),Ze={class:"inline-block px-1 text-sm align-middle md:text-lg"},et={ref:"copylink",type:"button",class:"block text-myBrown hover:text-myOrange"},tt=[f("span",{class:"inline-block px-1 text-xl align-middle md:text-2xl material-icons-outlined"},"file_upload",-1)];var at=j(ze,[["render",function(e,t,a,l,s,r){const o=v("router-link"),n=Y,x=D,h=i("src");return c(),d(b,null,[m(" 文章頂部作者資訊 "),f("div",Ee,[f("div",Ge,[f("div",Fe,[p(o,{class:"block overflow-hidden w-12 h-12 rounded-full md:w-14 md:h-14",to:{name:"AuthorDetail",params:{authorId:a.username}}},{default:u((()=>[y(f("img",qe,null,512),[[h,`https://kirukiru.rocket-coding.com/Pic/${a.authorPic}`]])])),_:1},8,["to"]),f("h2",Je,g(a.author),1),p(o,{to:{name:"AuthorDetail",params:{authorId:a.username}},class:"hidden font-bold text-myBrown hover:text-myOrange bg-myGray transition-all md:block button-sm"},{default:u((()=>[Qe])),_:1},8,["to"])]),f("div",We,[m(" 喜歡 "),p(n,I(e.$attrs,{"show-love-count":!0,"love-count":a.loveCount,"icon-class":"inline-block px-1 text-sm md:text-lg align-middle material-icons","count-class":"text-sm md:text-base","is-add-love":a.isAddLove,"article-type":a.articleType}),null,16,["love-count","is-add-love","article-type"]),m(" 留言 "),p(o,{to:{name:e.$route.name,params:e.$route.params.articleId,hash:"#article-replies"},class:"block text-myBrown hover:text-myOrange"},{default:u((()=>[Xe,f("span",Ze,g(a.repliesCount),1)])),_:1},8,["to"]),m(" 收藏 "),p(x,I(e.$attrs,{"icon-class":"inline-block px-1 text-base md:text-lg align-middle scale-110"}),null,16),m(" 分享 "),f("button",et,tt,512)])])])],2112)}]]),lt="./assets/user-origin-c53f5826.jpg";export{at as _,Re as a,ce as b,we as c,lt as u};
