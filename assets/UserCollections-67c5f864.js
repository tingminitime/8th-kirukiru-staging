var t=Object.defineProperty,e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(e,a,i)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i,n=(t,n)=>{for(var l in n||(n={}))a.call(n,l)&&o(t,l,n[l]);if(e)for(var l of e(n))i.call(n,l)&&o(t,l,n[l]);return t};import{a1 as l,a2 as r,_ as s,E as c,a3 as g,a4 as d}from"./index-b3157982.js";/* empty css             *//* empty css                  */import{_ as p}from"./MyArticleItem-b7ab07f9.js";import{L as u,aL as m,r as h,o as y,c as f,d as b,F as w,f as L,h as v,D as x,a as C,e as P,aJ as A,w as V,l as M,T as k,an as j,aN as S}from"./vendor-385d4c3c.js";const z={class:"relative min-h-[606px]"},E={class:"flex justify-center py-4"},H={key:0,class:"text-lg text-center text-myBrown/40"};const D={class:"relative min-h-[606px]"},K={class:"flex justify-center py-4"},I={key:0,class:"text-lg text-center text-myBrown/40"};const $={name:"UserCollections",components:{MyCollectKiruArticles:s({name:"MyCollectKiruArticles",components:{Loading:u,MyArticleItem:p,ElPagination:m},props:{},emits:["is-loading"],data:()=>({kiruArticleList:[],paginationVm:{currentPage:1,pageSize:5,total:0},paginationStyle:{"--el-pagination-bg-color":"#ededeb","--el-pagination-button-disabled-bg-color":"#ededeb","--el-pagination-hover-color":"#FF7F24"},isLoading:!1}),watch:{"paginationVm.currentPage":{handler(t){this.getKiruCollectionsHandler(this.paginationVm.currentPage)},immediate:!0}},methods:{getKiruCollectionsHandler(t){this.isLoading=!0,l({nowpage:t,showcount:this.paginationVm.pageSize}).then((t=>{t.data.success?(this.paginationVm.total=t.data.total,this.kiruArticleList=t.data.data):this.$notify({group:"error",title:"切切文章取得失敗"}),this.isLoading=!1})).catch((t=>{}))},deleteMyCollectionHandler(t){this.isLoading=!0,r(t.articleId).then((t=>{t.data.success?(this.$notify({group:"normal",title:"已取消收藏"}),this.getKiruCollectionsHandler(this.paginationVm.currentPage)):(this.$notify({group:"error",title:"取消收藏失敗"}),this.isLoading=!1)})).catch((t=>{}))}}},[["render",function(t,e,a,i,o,l){const r=p,s=m,g=c,d=h("Loading");return y(),f("div",z,[b("ul",null,[(y(!0),f(w,null,L(o.kiruArticleList,(e=>(y(),v(r,x({key:e.artId},n(n({},e),t.$attrs),{"show-feature":!0,"show-edit":!1,"show-delete":!0,"show-author":!0,onDeleteArticle:l.deleteMyCollectionHandler}),null,16,["onDeleteArticle"])))),128))]),C(" Pagination "),b("div",E,[P(s,{currentPage:o.paginationVm.currentPage,"onUpdate:currentPage":e[0]||(e[0]=t=>o.paginationVm.currentPage=t),style:A([o.paginationStyle]),layout:"prev, pager, next","page-size":o.paginationVm.pageSize,"pager-count":7,total:o.paginationVm.total,"hide-on-single-page":!1},null,8,["currentPage","style","page-size","total"])]),C(" 若沒有文章 "),0!==o.kiruArticleList.length||o.isLoading?C("v-if",!0):(y(),f("div",H," 沒有任何文章 ")),C(" 局部 Loading "),P(d,{active:o.isLoading,"onUpdate:active":e[1]||(e[1]=t=>o.isLoading=t),"is-full-page":!1,"background-color":"#EDEDEB"},{default:V((()=>[P(g,{class:"la-2x",show:o.isLoading},null,8,["show"])])),_:1},8,["active"])])}]]),MyCollectCommonArticles:s({name:"MyCollectKiruArticles",components:{Loading:u,MyArticleItem:p,ElPagination:m},props:{},emits:["is-loading"],data:()=>({commonArticleList:[],paginationVm:{currentPage:1,pageSize:5,total:0},paginationStyle:{"--el-pagination-bg-color":"#ededeb","--el-pagination-button-disabled-bg-color":"#ededeb","--el-pagination-hover-color":"#FF7F24"},isLoading:!1}),watch:{"paginationVm.currentPage":{handler(t){this.getCommonCollectionsHandler(this.paginationVm.currentPage)},immediate:!0}},methods:{getCommonCollectionsHandler(t){this.isLoading=!0,g({nowpage:t,showcount:this.paginationVm.pageSize}).then((t=>{t.data.success?(this.paginationVm.total=t.data.total,this.commonArticleList=t.data.data):this.$notify({group:"error",title:"一般文章取得失敗"}),this.isLoading=!1})).catch((t=>{}))},deleteMyCollectionHandler(t){this.isLoading=!0,d(t.articleId).then((t=>{t.data.success?(this.$notify({group:"normal",title:"已取消收藏"}),this.getCommonCollectionsHandler(this.paginationVm.currentPage)):(this.$notify({group:"error",title:"取消收藏失敗"}),this.isLoading=!1)})).catch((t=>{}))}}},[["render",function(t,e,a,i,o,l){const r=p,s=m,g=c,d=h("Loading");return y(),f("div",D,[b("ul",null,[(y(!0),f(w,null,L(o.commonArticleList,(e=>(y(),v(r,x({key:e.artId},n(n({},e),t.$attrs),{"show-feature":!0,"show-edit":!1,"show-delete":!0,"show-author":!0,onDeleteArticle:l.deleteMyCollectionHandler}),null,16,["onDeleteArticle"])))),128))]),C(" Pagination "),b("div",K,[P(s,{currentPage:o.paginationVm.currentPage,"onUpdate:currentPage":e[0]||(e[0]=t=>o.paginationVm.currentPage=t),style:A([o.paginationStyle]),layout:"prev, pager, next","page-size":o.paginationVm.pageSize,"pager-count":7,total:o.paginationVm.total,"hide-on-single-page":!1},null,8,["currentPage","style","page-size","total"])]),C(" 若沒有文章 "),0!==o.commonArticleList.length||o.isLoading?C("v-if",!0):(y(),f("div",I," 沒有任何文章 ")),C(" 局部 Loading "),P(d,{active:o.isLoading,"onUpdate:active":e[1]||(e[1]=t=>o.isLoading=t),"is-full-page":!1,"background-color":"#EDEDEB"},{default:V((()=>[P(g,{class:"la-2x",show:o.isLoading},null,8,["show"])])),_:1},8,["active"])])}]])},data:()=>({articleType:"MyCollectKiruArticles"}),methods:{}},B={class:"w-full"},F=b("h2",{class:"mb-8 text-2xl font-bold text-myBrown"}," 收藏總覽 ",-1),T={class:"flex gap-3 items-center mb-6"};var O=s($,[["render",function(t,e,a,i,o,n){return y(),f("div",B,[F,C(" 文章分類 "),b("div",T,[b("button",{type:"button",class:M(["py-1 px-2 min-w-[144px] font-bold text-myBrown rounded-lg",["MyCollectKiruArticles"===o.articleType?"bg-myYellow":"bg-white md:hover:bg-myLightenYellow/60"]]),onClick:e[0]||(e[0]=t=>o.articleType="MyCollectKiruArticles")}," 切切文章 ",2),b("button",{type:"button",class:M(["py-1 px-2 min-w-[144px] font-bold text-myBrown rounded-lg",["MyCollectCommonArticles"===o.articleType?"bg-myYellow":"bg-white md:hover:bg-myLightenYellow/60"]]),onClick:e[1]||(e[1]=t=>o.articleType="MyCollectCommonArticles")}," 一般文章 ",2)]),C(" 文章列表 "),b("div",null,[P(k,{appear:"",mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0 translate-x-48","enter-to-class":"transform opacity-100 translate-x-0"},{default:V((()=>[(y(),v(S,null,[(y(),v(j(o.articleType)))],1024))])),_:1})])])}]]);export{O as default};
